<h2 id="query-records">Query Records</h2>

<h3 id="get">get</h3>

<p>Retrieve a record from a collection using primary key</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Collection</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="arguments">Arguments</h4>

<ul>
  <li><strong><em>id&lt;string&gt;</em></strong>: an existing recordâ€™s primary key</li>
</ul>

<h4 id="example">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VasernDB</span><span class="p">.</span><span class="nx">collect</span><span class="p">(</span><span class="s2">"People"</span><span class="p">).</span><span class="kd">get</span><span class="p">(</span><span class="s2">`auto_generated_id_1`</span><span class="p">)</span>
<span class="p">.</span><span class="nx">asPromise</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rs</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">item</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">first</span><span class="p">();</span> <span class="c1">// item found</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">})</span>
</code></pre></div></div>

<hr />

<h3 id="filter">filter</h3>

<p>Filter records from a collection that match with query</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Collection</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">query</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="nx">QueryBuilder</span>
</code></pre></div></div>

<h4 id="arguments-1">Arguments</h4>

<ul>
  <li><strong><em>query&lt;Object&gt;</em></strong>: query filter</li>
</ul>

<h4 id="example-1">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VasernDB</span><span class="p">.</span><span class="nx">collect</span><span class="p">(</span><span class="s2">"People"</span><span class="p">).</span><span class="nx">filter</span><span class="p">({</span> <span class="na">firstName</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="na">yearOfBirth</span><span class="p">:</span> <span class="mi">1987</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">asPromise</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rs</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">items</span><span class="p">;</span> <span class="c1">// matched records</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">})</span>
</code></pre></div></div>
<hr />

<h3 id="paging">paging</h3>

<p class="block__msg warning">
    Note: not work with `limit`
</p>

<p>Record filter pagination, return records within a given size and page</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QueryBuilder</span><span class="p">.</span><span class="nx">paging</span><span class="p">(</span><span class="nx">max</span><span class="p">,</span> <span class="nx">page</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="nx">QueryBuilder</span>
</code></pre></div></div>

<h4 id="arguments-2">Arguments</h4>

<ul>
  <li><strong><em>max&lt;number&gt;</em></strong>: maxinum number of returned records</li>
  <li><strong><em>max&lt;page&gt;</em></strong>: current page, start with 0</li>
</ul>

<h4 id="example-2">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VasernDB</span><span class="p">.</span><span class="nx">collect</span><span class="p">(</span><span class="s2">"People"</span><span class="p">).</span><span class="nx">filter</span><span class="p">({</span> <span class="na">firstName</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="na">yearOfBirth</span><span class="p">:</span> <span class="mi">1987</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">paging</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// return maxinum 10 records, skip the first 20 records</span>
<span class="p">.</span><span class="nx">asPromise</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rs</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">items</span><span class="p">;</span> <span class="c1">// matched records</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">})</span>
</code></pre></div></div>

<hr />

<h3 id="limit">limit</h3>

<p class="block__msg warning">
Note: not work with `paging`
</p>

<p>Filter records with limit number of returned records</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QueryBuilder</span><span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="nx">max</span><span class="p">)</span>
<span class="o">=&gt;</span> <span class="nx">QueryBuilder</span>
</code></pre></div></div>

<h4 id="arguments-3">Arguments</h4>

<ul>
  <li><strong><em>max&lt;number&gt;</em></strong>: maxinum number of returned records</li>
</ul>

<h4 id="example-3">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VasernDB</span><span class="p">.</span><span class="nx">collect</span><span class="p">(</span><span class="s2">"People"</span><span class="p">).</span><span class="nx">filter</span><span class="p">({</span> <span class="na">firstName</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="na">yearOfBirth</span><span class="p">:</span> <span class="mi">1987</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">limit</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="c1">// return maxinum 14 records</span>
<span class="p">.</span><span class="nx">asPromise</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rs</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">items</span><span class="p">;</span> <span class="c1">// matched records</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">})</span>
</code></pre></div></div>

<hr />
<!-- 
### include


```js

```

#### Arguments



#### Example

```js

```

--- -->

<h3 id="sort">sort</h3>

<p>Sort result of a record filter</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">QueryBuilder</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">propertyName1</span><span class="p">,</span> <span class="nx">propertyName2</span><span class="p">,</span> <span class="p">...</span> <span class="p">)</span>
</code></pre></div></div>

<h4 id="arguments-4">Arguments</h4>

<ul>
  <li><strong><em>propertyName&lt;string&gt;</em></strong> name of the property will be used for sorting</li>
</ul>

<h4 id="example-4">Example</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">VasernDB</span><span class="p">.</span><span class="nx">collect</span><span class="p">(</span><span class="s2">"People"</span><span class="p">).</span><span class="nx">filter</span><span class="p">({</span> <span class="na">firstName</span><span class="p">:</span> <span class="s2">"Peter"</span><span class="p">,</span> <span class="na">yearOfBirth</span><span class="p">:</span> <span class="mi">1987</span> <span class="p">})</span>
<span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="s1">'yearOfBirth'</span><span class="p">)</span> <span class="c1">// return maxinum 14 records</span>
<span class="p">.</span><span class="nx">asPromise</span><span class="p">()</span>
<span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">rs</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">rs</span><span class="p">.</span><span class="nx">items</span><span class="p">;</span> <span class="c1">// matched records</span>
<span class="p">})</span>
<span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Handle error</span>
<span class="p">})</span>
</code></pre></div></div>
